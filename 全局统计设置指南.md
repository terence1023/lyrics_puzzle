# ğŸŒ å…¨å±€ç»Ÿè®¡åŠŸèƒ½ - å®Œæ•´è®¾ç½®æŒ‡å—

## ğŸ“‹ é—®é¢˜è¯´æ˜

ä½ å¸Œæœ›"ä»Šæ—¥é€šè¿‡äººæ•°"å¯¹æ‰€æœ‰ç”¨æˆ·æ˜¾ç¤ºç›¸åŒçš„æ•°å€¼ï¼Œè€Œä¸æ˜¯æ¯ä¸ªæµè§ˆå™¨ç‹¬ç«‹ç»Ÿè®¡ã€‚ç”±äº GitHub Pages æ˜¯çº¯é™æ€æ‰˜ç®¡ï¼Œéœ€è¦ç¬¬ä¸‰æ–¹åç«¯æœåŠ¡æ¥å­˜å‚¨å…¨å±€æ•°æ®ã€‚

## ğŸ¯ æ¨èæ–¹æ¡ˆ

### æ–¹æ¡ˆä¸€ï¼šFirebase Realtime Databaseï¼ˆâ˜…â˜…â˜…â˜…â˜… æ¨èï¼‰

**ä¼˜ç‚¹ï¼š**
- âœ… å®Œå…¨å…è´¹ï¼ˆæ¯æœˆ 1GB å­˜å‚¨ï¼Œ100,000 æ¬¡åŒæ—¶è¿æ¥ï¼‰
- âœ… å®æ—¶åŒæ­¥ï¼ˆæ‰€æœ‰ç”¨æˆ·ç«‹å³çœ‹åˆ°æ›´æ–°ï¼‰
- âœ… ç®€å•æ˜“ç”¨ï¼Œæ— éœ€åç«¯ä»£ç 
- âœ… Google å®˜æ–¹æœåŠ¡ï¼Œç¨³å®šå¯é 

**è®¾ç½®æ­¥éª¤ï¼š**

1. **åˆ›å»º Firebase é¡¹ç›®**
   ```
   è®¿é—®ï¼šhttps://console.firebase.google.com/
   ç‚¹å‡»"æ·»åŠ é¡¹ç›®"
   è¾“å…¥é¡¹ç›®åç§°ï¼šlyrics-puzzle
   ```

2. **å¯ç”¨ Realtime Database**
   ```
   åœ¨å·¦ä¾§èœå•é€‰æ‹© "Realtime Database"
   ç‚¹å‡»"åˆ›å»ºæ•°æ®åº“"
   é€‰æ‹©åœ°åŒºï¼šasia-southeast1ï¼ˆæ–°åŠ å¡ï¼‰
   å®‰å…¨è§„åˆ™é€‰æ‹©"æµ‹è¯•æ¨¡å¼"ï¼ˆå…è®¸è¯»å†™ï¼‰
   ```

3. **è·å–é…ç½®ä¿¡æ¯**
   ```
   ç‚¹å‡»é¡¹ç›®è®¾ç½® > å¸¸è§„
   æ»šåŠ¨åˆ°"æ‚¨çš„åº”ç”¨"éƒ¨åˆ†
   é€‰æ‹©"Webåº”ç”¨"ï¼ˆ</> å›¾æ ‡ï¼‰
   å¤åˆ¶ firebaseConfig å¯¹è±¡
   ```

4. **æ›´æ–°ä»£ç **
   - æ‰“å¼€ `index-firebase.html`
   - æ›¿æ¢ `firebaseConfig` ä¸­çš„é…ç½®ä¿¡æ¯
   - å°† `index-firebase.html` é‡å‘½åä¸º `index.html`

5. **éƒ¨ç½²**
   ```bash
   git add .
   git commit -m "å¯ç”¨Firebaseå…¨å±€ç»Ÿè®¡"
   git push origin main
   ```

---

### æ–¹æ¡ˆäºŒï¼šSupabaseï¼ˆâ˜…â˜…â˜…â˜…â˜†ï¼‰

**ä¼˜ç‚¹ï¼š**
- âœ… å¼€æºï¼ŒåŸºäº PostgreSQL
- âœ… å…è´¹é¢åº¦å……è¶³
- âœ… æä¾›å®æ—¶è®¢é˜…åŠŸèƒ½

**è®¾ç½®æ­¥éª¤ï¼š**

1. è®¿é—® https://supabase.com/
2. æ³¨å†Œå¹¶åˆ›å»ºé¡¹ç›®
3. åˆ›å»ºè¡¨ `daily_stats`
4. ä½¿ç”¨ JavaScript å®¢æˆ·ç«¯åº“

---

### æ–¹æ¡ˆä¸‰ï¼šGitHub Gistï¼ˆâ˜…â˜…â˜…â˜†â˜†ï¼‰

**ä¼˜ç‚¹ï¼š**
- âœ… å®Œå…¨å…è´¹
- âœ… æ— éœ€é¢å¤–æ³¨å†Œ

**ç¼ºç‚¹ï¼š**
- âŒ éœ€è¦ Personal Access Token
- âŒ æœ‰é€Ÿç‡é™åˆ¶ï¼ˆæ¯å°æ—¶ 5000 æ¬¡è¯·æ±‚ï¼‰
- âŒ ä¸æ˜¯å®æ—¶çš„

**è®¾ç½®æ­¥éª¤ï¼š**

1. **åˆ›å»º Personal Access Token**
   ```
   è®¿é—®ï¼šhttps://github.com/settings/tokens
   ç‚¹å‡» "Generate new token (classic)"
   å‹¾é€‰ "gist" æƒé™
   å¤åˆ¶ tokenï¼ˆåªæ˜¾ç¤ºä¸€æ¬¡ï¼ï¼‰
   ```

2. **åˆ›å»ºå…¬å¼€ Gist**
   ```
   è®¿é—®ï¼šhttps://gist.github.com/
   æ–‡ä»¶åï¼šlyrics-puzzle-stats.json
   å†…å®¹ï¼š
   {
     "dailyStats": {},
     "lastUpdate": ""
   }
   åˆ›å»ºä¸º Public Gist
   å¤åˆ¶ URL ä¸­çš„ Gist ID
   ```

3. **æ›´æ–°ä»£ç **
   æ‰“å¼€ `cloud-stats.js`ï¼Œé…ç½®ï¼š
   ```javascript
   GIST_ID: 'ä½ çš„Gist ID',
   GITHUB_TOKEN: 'ä½ çš„Token',
   USE_CLOUD: true
   ```

---

### æ–¹æ¡ˆå››ï¼šç®€æ˜“æ¨¡æ‹Ÿæ–¹æ¡ˆï¼ˆâ˜…â˜…â˜†â˜†â˜†ï¼‰

å¦‚æœä¸æƒ³é…ç½®åç«¯ï¼Œå¯ä»¥ä½¿ç”¨**æ¨¡æ‹Ÿå…¨å±€ç»Ÿè®¡**ï¼š

**åŸç†ï¼š** åŸºäºæ—¥æœŸç”Ÿæˆç¡®å®šæ€§çš„"è™šæ‹Ÿ"ç»Ÿè®¡æ•°å­—ï¼Œæ‰€æœ‰ç”¨æˆ·çœ‹åˆ°ç›¸åŒä½†æ˜¯å‡çš„æ•°æ®ã€‚

**å®ç°ï¼š**

```javascript
// æ·»åŠ åˆ° script.js
const SimulatedStats = {
    getTodayKey() {
        const today = new Date();
        return `${today.getFullYear()}-${String(today.getMonth() + 1).padStart(2, '0')}-${String(today.getDate()).padStart(2, '0')}`;
    },
    
    // åŸºäºæ—¥æœŸç”Ÿæˆç¡®å®šæ€§çš„"é€šè¿‡äººæ•°"
    getTodayWins() {
        const today = this.getTodayKey();
        // ä½¿ç”¨æ—¥æœŸå­—ç¬¦ä¸²ç”Ÿæˆç§å­
        let seed = 0;
        for (let i = 0; i < today.length; i++) {
            seed = seed * 31 + today.charCodeAt(i);
        }
        
        // ç”Ÿæˆ 10-50 ä¹‹é—´çš„éšæœºæ•°
        const baseNumber = 10 + (seed % 40);
        
        // åŠ ä¸Šå½“å‰å°æ—¶æ•°ï¼ˆæ¨¡æ‹Ÿé€’å¢ï¼‰
        const hour = new Date().getHours();
        const increment = Math.floor(hour / 2);
        
        return baseNumber + increment;
    },
    
    updateDisplay() {
        const wins = this.getTodayWins();
        document.getElementById('daily-wins').textContent = wins;
    },
    
    init() {
        this.updateDisplay();
        // æ¯10åˆ†é’Ÿæ›´æ–°ä¸€æ¬¡
        setInterval(() => this.updateDisplay(), 10 * 60 * 1000);
    }
};

// ä½¿ç”¨
SimulatedStats.init();
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹ï¼ˆFirebaseï¼‰

### 1. æœ€å°åŒ–é…ç½®

åˆ›å»ºæ–‡ä»¶ `firebase-config.js`:

```javascript
export const firebaseConfig = {
    apiKey: "ä½ çš„APIå¯†é’¥",
    authDomain: "ä½ çš„é¡¹ç›®.firebaseapp.com",
    databaseURL: "https://ä½ çš„é¡¹ç›®.firebaseio.com",
    projectId: "ä½ çš„é¡¹ç›®ID",
    storageBucket: "ä½ çš„é¡¹ç›®.appspot.com",
    messagingSenderId: "ä½ çš„å‘é€è€…ID",
    appId: "ä½ çš„åº”ç”¨ID"
};
```

### 2. å®‰å…¨è§„åˆ™è®¾ç½®

åœ¨ Firebase Console > Realtime Database > è§„åˆ™ï¼š

```json
{
  "rules": {
    "dailyStats": {
      ".read": true,
      ".write": true,
      "$date": {
        ".validate": "newData.isNumber()"
      }
    }
  }
}
```

### 3. æµ‹è¯•

```bash
# æœ¬åœ°æµ‹è¯•
open index-firebase.html

# éƒ¨ç½²
git add .
git commit -m "æ·»åŠ Firebaseå…¨å±€ç»Ÿè®¡"
git push origin main
```

---

## ğŸ“Š æ•°æ®ç»“æ„

### Firebase Realtime Database

```
lyrics-puzzle-db/
  â””â”€â”€ dailyStats/
      â”œâ”€â”€ 2025-10-16: 23
      â”œâ”€â”€ 2025-10-17: 45
      â””â”€â”€ 2025-10-18: 12
```

---

## ğŸ”’ å®‰å…¨æ³¨æ„äº‹é¡¹

### Firebase APIå¯†é’¥

- âœ… APIå¯†é’¥å¯ä»¥å…¬å¼€ï¼ˆä»…ç”¨äºè¿æ¥ï¼‰
- âœ… é€šè¿‡å®‰å…¨è§„åˆ™æ§åˆ¶è®¿é—®æƒé™
- âŒ ä¸è¦æš´éœ²æ•°æ®åº“å†™å…¥æƒé™

### é˜²æ­¢æ»¥ç”¨

åœ¨ Firebase è§„åˆ™ä¸­æ·»åŠ é™åˆ¶ï¼š

```json
{
  "rules": {
    "dailyStats": {
      ".read": true,
      "$date": {
        ".write": "!data.exists() || newData.val() <= data.val() + 1"
      }
    }
  }
}
```

---

## ğŸ’¡ æœ€ä½³å®è·µ

1. **ä½¿ç”¨ Firebase**ï¼ˆæ¨èï¼‰
   - ç®€å•ã€å¯é ã€å…è´¹
   - å®æ—¶åŒæ­¥

2. **æ·»åŠ æœ¬åœ°ç¼“å­˜**
   - å‡å°‘ API è°ƒç”¨
   - æå‡åŠ è½½é€Ÿåº¦

3. **é˜²æ­¢é‡å¤æäº¤**
   - æœ¬åœ°æ ‡è®°å·²è®°å½•
   - æœåŠ¡ç«¯éªŒè¯

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

### é€‰é¡¹ Aï¼šæˆ‘æ¥å¸®ä½ é…ç½® Firebase

å‘Šè¯‰æˆ‘ä½ æ˜¯å¦æ„¿æ„åˆ›å»º Firebase é¡¹ç›®ï¼Œæˆ‘ä¼šæä¾›è¯¦ç»†çš„é€æ­¥æŒ‡å¯¼ã€‚

### é€‰é¡¹ Bï¼šä½¿ç”¨æ¨¡æ‹Ÿç»Ÿè®¡

å¦‚æœä¸æƒ³é…ç½®åç«¯ï¼Œæˆ‘å¯ä»¥å®ç°ä¸€ä¸ªæ›´ç²¾ç¾çš„æ¨¡æ‹Ÿç»Ÿè®¡ç³»ç»Ÿã€‚

### é€‰é¡¹ Cï¼šä½¿ç”¨ Gist

æˆ‘å¯ä»¥å¸®ä½ è®¾ç½® GitHub Gist æ–¹æ¡ˆï¼ˆéœ€è¦ä½ æä¾› tokenï¼‰ã€‚

---

**æ¨èï¼š** ä½¿ç”¨ Firebaseï¼Œ5åˆ†é’Ÿå³å¯å®Œæˆé…ç½®ï¼ğŸš€
